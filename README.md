# Average-iFunnier

A discord bot to interact with iFunny

## Quickstart Guide to host this yourself

This guide will help you get started with hosting the this bot on your own server using Docker.

### Prerequisites

-   [Docker](https://docs.docker.com/get-docker/) installed on your machine
-   [Git](https://git-scm.com/downloads) installed on your machine
-   [Discord](https://discord.com/developers/applications) Developer Portal account with an already created bot
-   [iFunny](https://ifunny.co) account along with a bearer token and basic token
-   Text editor of your choice (e.g. Visual Studio Code)

### Step 1: Clone the Repository

Open your terminal or command prompt and run the following command:

```sh
git clone https://github.com/MakeShiftArtist/Average-iFunnier.git
```

### Step 2: Create an .env File

Create a new file named .env in the root of the cloned repository and add the following values:

```env
DISCORD_TOKEN={DISCORD_BOT_TOKEN}
IFUNNY_BASIC={IFUNNY_BASIC_TOKEN}
IFUNNY_BEARER={IFUNNY_BEARER_TOKEN}
```

-   `DISCORD_BOT_TOKEN` can be found on the discord developer portal
-   `IFUNNY_BASIC` can be generated using iFunny.ts
-   `IFUNNY_BEARER` can be generated by signing in using iFunny.ts

### Step 3: Build the Docker Image

Navigate to the root of the cloned repository using the terminal and run the following command to build the Docker image:

```sh
docker build -t {image-name} .

```

Replace `{image-name}` with the desired name for the Docker image.

### Step 4: Run the Docker Container

After the Docker image is built, you can run the Docker container using the following command:

```sh
docker run -d {image-name}
```

Replace `{image-name}` with the name of the Docker image you specified earlier.

**Congratulations!**\
Your Discord Bot is now up and running on your server. You can check the logs of the running Docker container using the following command:

```sh
docker logs {container-id}
```

Replace `{container-id}` with the ID of the Docker container. You can find the container ID by running the following command:

```sh
docker ps
```

## iFunny Tokens


## Adding Commands

To add a new command to the bot, you need to follow these steps:

1. Create a new file in the `src/core/commands/<command category>` folder. The command category could be anything that makes sense for your bot's functionality.
2. In the newly created file, import the Command class from `src/models/discord/Command.ts`.
3. Create a new instance of the Command class and pass in a config object as its argument. The config object must have the following properties:
    - name: The name of the command. This will be used to trigger the command.
    - description: A brief description of what the command does.
    - category: The category under which the command should be grouped.
4. After you've defined the config object, pass it along with an execute callback to the Command class constructor. The execute callback should have two arguments: the custom client instance, and the interaction object. Additionally, you can optionally pass in an autocomplete callback as the third argument.

    Here's an example of how to create a simple ping command:

```typescript
// src/core/commands/general/ping.ts
import Command from "../../models/discord/Command";

export default new Command(
	{
		name: "ping",
		description: "Ping the bot to check if it's online",
		category: "general",
	},
	async (client, interaction) => {
		await interaction.reply(
			`Pong! Latency is ${Date.now() - interaction.createdTimestamp}ms.`
		);
	}
);
```

In this example, we've created a new command file called ping.ts in the src/core/commands/general folder. The Command instance we've created takes a config object with the name, description, and category properties. We've also passed in an execute callback that takes the client and interaction objects as its arguments.

Note that you can add as many commands as you want, and organize them into any number of categories that make sense for your bot's functionality. Just remember to follow the steps above for each new command you create.
